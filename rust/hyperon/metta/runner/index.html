<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="MeTTa Runner Implementation"><title>hyperon::metta::runner - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="hyperon" data-themes="" data-resource-suffix="" data-rustdoc-version="1.93.0 (254b59607 2026-01-19)" data-channel="1.93.0" data-search-js="search-9e2438ea.js" data-stringdex-js="stringdex-a3946164.js" data-settings-js="settings-c38705f0.js" ><script src="../../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-a410ff4d.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module runner</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../hyperon/index.html">hyperon</a><span class="version">0.2.10</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module runner</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#metta-runner-implementation" title="MeTTa Runner Implementation">MeTTa Runner Implementation</a><ul><li><a href="#environment" title="Environment">Environment</a></li><li><a href="#metta" title="Metta">Metta</a></li><li><a href="#runnerstate" title="RunnerState">RunnerState</a></li><li><a href="#moduledescriptor" title="ModuleDescriptor">ModuleDescriptor</a></li><li><a href="#mettamod" title="MettaMod">MettaMod</a></li><li><a href="#runcontext" title="RunContext">RunContext</a></li></ul></li></ul><h3><a href="#modules">Module Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In hyperon::<wbr>metta</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">hyperon</a>::<wbr><a href="../index.html">metta</a></div><h1>Module <span>runner</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/hyperon/metta/runner/mod.rs.html#1-1472">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="metta-runner-implementation"><a class="doc-anchor" href="#metta-runner-implementation">§</a>MeTTa Runner Implementation</h2>
<p>This documentation addresses the different objects involved with the MeTTa runner, and how they fit together.</p>
<h3 id="environment"><a class="doc-anchor" href="#environment">§</a><a href="struct.Environment.html" title="struct hyperon::metta::runner::Environment">Environment</a></h3>
<p><a href="struct.Environment.html" title="struct hyperon::metta::runner::Environment">Environment</a> is the gateway to the outside world.  It creates a platform-abstraction layer for MeTTa, and
is responsible for managing configuration and implementing a security model with permissions.  In a typical
situation, there will only be one <a href="struct.Environment.html" title="struct hyperon::metta::runner::Environment">Environment</a> needed.</p>
<h3 id="metta"><a class="doc-anchor" href="#metta">§</a><a href="struct.Metta.html" title="struct hyperon::metta::runner::Metta">Metta</a></h3>
<p><a href="struct.Metta.html" title="struct hyperon::metta::runner::Metta">Metta</a> is the runner object.  It is owned by the caller and hosts all state associated with MeTTa execution,
including loaded <a href="modules/struct.MettaMod.html" title="struct hyperon::metta::runner::modules::MettaMod">MettaMod</a> modules.  A <a href="struct.Metta.html" title="struct hyperon::metta::runner::Metta">Metta</a> runner has one top-level module, (named “top”) and
all other modules are loaded as dependents (or transitive dependents) of the top-level module. <a href="struct.Metta.html" title="struct hyperon::metta::runner::Metta">Metta</a> is a
long-lived object, and it may be sufficient to create one <a href="struct.Metta.html" title="struct hyperon::metta::runner::Metta">Metta</a> runner that lasts for the duration of the
host program.</p>
<h3 id="runnerstate"><a class="doc-anchor" href="#runnerstate">§</a><a href="struct.RunnerState.html" title="struct hyperon::metta::runner::RunnerState">RunnerState</a></h3>
<p>A <a href="struct.RunnerState.html" title="struct hyperon::metta::runner::RunnerState">RunnerState</a> object encapsulates one conceptual “thread” of MeTTa execution (although it may be
parallelized in its implementation)  A <a href="struct.RunnerState.html" title="struct hyperon::metta::runner::RunnerState">RunnerState</a> is short-lived; it is created to evaluate some
MeTTa code, and can be run until it finishes or encounters an error.  Multiple <a href="struct.RunnerState.html" title="struct hyperon::metta::runner::RunnerState">RunnerState</a> objects may
be executing within the same <a href="struct.Metta.html" title="struct hyperon::metta::runner::Metta">Metta</a> at the same time.
UPDATE: I think I will be removing the <a href="struct.RunnerState.html" title="struct hyperon::metta::runner::RunnerState">RunnerState</a> shortly, in favor of a delegate interface that allows
a function to interact with the runner in specific ways for the implementation of a debugger.</p>
<h3 id="moduledescriptor"><a class="doc-anchor" href="#moduledescriptor">§</a><a href="pkg_mgmt/struct.ModuleDescriptor.html" title="struct hyperon::metta::runner::pkg_mgmt::ModuleDescriptor">ModuleDescriptor</a></h3>
<p>A self-contained data-structure that uniquely identifies a specific version of a specific module.  Two
modules that have the same ModuleDescriptor are considered to be the same module from the perspective of
the implementation.</p>
<h3 id="mettamod"><a class="doc-anchor" href="#mettamod">§</a><a href="modules/struct.MettaMod.html" title="struct hyperon::metta::runner::modules::MettaMod">MettaMod</a></h3>
<p>A <a href="modules/struct.MettaMod.html" title="struct hyperon::metta::runner::modules::MettaMod">MettaMod</a> contains a loaded module.  A module is fundamentally a [Space] of atoms, although it also
contains an associated <a href="../text/struct.Tokenizer.html" title="struct hyperon::metta::text::Tokenizer">Tokenizer</a> to help with the conversion from text to [Atom]s and sometimes a
resources directory.  Modules are loaded via loader functions, and they can originate from code
in pure MeTTa as well as through extensions in other host languages, namely Rust, C, and Python.</p>
<h3 id="runcontext"><a class="doc-anchor" href="#runcontext">§</a><a href="struct.RunContext.html" title="struct hyperon::metta::runner::RunContext">RunContext</a></h3>
<p>A <a href="struct.RunContext.html" title="struct hyperon::metta::runner::RunContext">RunContext</a> objects encapsulates the interface accessible to code running inside a <a href="struct.RunnerState.html" title="struct hyperon::metta::runner::RunnerState">RunnerState</a>.  It
provides access to the currently loaded module and any other shared state required for the atoms executing
within the MeTTa interpreter.  A <a href="struct.RunContext.html" title="struct hyperon::metta::runner::RunContext">RunContext</a> is created inside the runner, and it is not possible for
code outside the MeTTa core library to own a <a href="struct.RunContext.html" title="struct hyperon::metta::runner::RunContext">RunContext</a>.</p>
<p>Metta (Runner)
┌─────────────────────────────────────────────────────────────────┐
│ MettaMods (Modules)                                             │
│ ┌────────────────────────────────────────────────────┐          │
│ │ Space                  Tokenizer                   ├─┐        │
│ │ ┌─────────────────┐    ┌─────────────────────┐     │ ├─┐      │
│ │ │                 │    │                     │     │ │ │      │
│ │ └─────────────────┘    └─────────────────────┘     │ │ │      │
│ └─┬──────────────────────────────────────────────────┘ │ │      │
│   └─┬──────────────────────────────────────────────────┘ │      │
│     └────────────────────────────────────────────────────┘      │
└─────────────────────────────────────────────────────────────────┘</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><dl class="item-table"><dt><a class="mod" href="modules/index.html" title="mod hyperon::metta::runner::modules">modules</a></dt><dt><a class="mod" href="pkg_mgmt/index.html" title="mod hyperon::metta::runner::pkg_mgmt">pkg_<wbr>mgmt</a></dt><dt><a class="mod" href="stdlib/index.html" title="mod hyperon::metta::runner::stdlib">stdlib</a></dt></dl><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.EnvBuilder.html" title="struct hyperon::metta::runner::EnvBuilder">EnvBuilder</a></dt><dd>Used to customize the <a href="struct.Environment.html" title="struct hyperon::metta::runner::Environment">Environment</a> configuration</dd><dt><a class="struct" href="struct.Environment.html" title="struct hyperon::metta::runner::Environment">Environment</a></dt><dd>Contains state and host platform interfaces shared by all MeTTa runners.  This includes config settings
and logger</dd><dt><a class="struct" href="struct.Metta.html" title="struct hyperon::metta::runner::Metta">Metta</a></dt><dd>A Metta object encapsulates everything needed to execute MeTTa code</dd><dt><a class="struct" href="struct.PragmaSettings.html" title="struct hyperon::metta::runner::PragmaSettings">Pragma<wbr>Settings</a></dt><dt><a class="struct" href="struct.RunContext.html" title="struct hyperon::metta::runner::RunContext">RunContext</a></dt><dd>Runtime data that is available to Grounded Atom execution</dd><dt><a class="struct" href="struct.RunnerState.html" title="struct hyperon::metta::runner::RunnerState">Runner<wbr>State</a></dt><dd>A RunnerState encapsulates a single in-flight process, executing code within a <a href="struct.Metta.html" title="struct hyperon::metta::runner::Metta">Metta</a> runner</dd></dl></section></div></main></body></html>